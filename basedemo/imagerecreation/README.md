# å›¾åƒè¶…åˆ†è¾¨ç‡ - Real-ESRGAN Web æ¼”ç¤º

åŸºäº ONNX Runtime Web çš„å›¾åƒè¶…åˆ†è¾¨ç‡åº”ç”¨ï¼Œæ”¯æŒ WebGPU/WebNN åç«¯åŠ é€Ÿï¼Œå®ç° Real-ESRGAN æ¨¡å‹çš„ 4x å›¾åƒå¢å¼ºåŠŸèƒ½ã€‚

## âœ¨ ç‰¹æ€§

- ğŸš€ **é«˜æ€§èƒ½æ¨ç†**: ä¼˜å…ˆä½¿ç”¨ WebGPU/WebNN åç«¯ï¼Œæ”¯æŒç¡¬ä»¶åŠ é€Ÿ
- ğŸ¨ **ç°ä»£åŒ–ç•Œé¢**: é‡‡ç”¨è‹¹æœé£æ ¼çš„ç®€æ´è®¾è®¡ï¼Œå“åº”å¼å¸ƒå±€
- ğŸ”„ **å¤šç§å¯¹æ¯”æ¨¡å¼**: æ”¯æŒå¹¶æ’å¯¹æ¯”å’Œæ»‘åŠ¨å¯¹æ¯”ä¸¤ç§æŸ¥çœ‹æ–¹å¼
- ğŸ“Š **å®æ—¶ç»Ÿè®¡**: æ˜¾ç¤ºå¤„ç†æ—¶é—´ã€å›¾åƒå°ºå¯¸å’Œæ‰§è¡Œåç«¯ä¿¡æ¯
- ğŸ“± **ç§»åŠ¨ç«¯å‹å¥½**: å®Œå…¨å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæ‹–æ‹½ä¸Šä¼ 
- ğŸ¯ **æ™ºèƒ½é™çº§**: æ¨¡å‹åŠ è½½å¤±è´¥æ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°æ¼”ç¤ºæ¨¡å¼

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3 + Composition API
- **æ„å»ºå·¥å…·**: Vite
- **AI æ¨ç†**: ONNX Runtime Web
- **å›¾åƒå¤„ç†**: Canvas API + è‡ªå®šä¹‰å›¾åƒå¤„ç†å·¥å…·
- **æ ·å¼**: åŸç”Ÿ CSS + CSS Grid/Flexbox
- **åŒ…ç®¡ç†**: pnpm

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16
- pnpm >= 7

### å®‰è£…ä¾èµ–

```bash
pnpm install
```

### å¼€å‘æ¨¡å¼

```bash
pnpm dev
```

### ç”Ÿäº§æ„å»º

```bash
pnpm build
```

### é¢„è§ˆæ„å»ºç»“æœ

```bash
pnpm preview
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ SuperResolution.vue    # ä¸»è¦çš„è¶…åˆ†è¾¨ç‡ç»„ä»¶
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ onnxInference.js       # ONNX æ¨¡å‹æ¨ç†å·¥å…·ç±»
â”‚   â””â”€â”€ imageProcessor.js      # å›¾åƒå¤„ç†å·¥å…·ç±»
â”œâ”€â”€ App.vue                    # æ ¹ç»„ä»¶
â””â”€â”€ main.js                    # å…¥å£æ–‡ä»¶

public/
â””â”€â”€ models/
    â””â”€â”€ README.md              # æ¨¡å‹æ–‡ä»¶è¯´æ˜
```

## ğŸ¤– æ¨¡å‹é…ç½®

### Real-ESRGAN æ¨¡å‹ä¸‹è½½

1. è®¿é—® [Real-ESRGAN å®˜æ–¹ä»“åº“](https://github.com/xinntao/Real-ESRGAN)
2. ä¸‹è½½é¢„è®­ç»ƒçš„ ONNX æ¨¡å‹æ–‡ä»¶
3. å°†æ¨¡å‹æ–‡ä»¶é‡å‘½åä¸º `real-esrgan-x4.onnx`
4. æ”¾ç½®åœ¨ `public/models/` ç›®å½•ä¸‹

### æ”¯æŒçš„æ¨¡å‹æ ¼å¼

- **è¾“å…¥å°ºå¯¸**: 512Ã—512 åƒç´ 
- **è¾“å‡ºå°ºå¯¸**: 2048Ã—2048 åƒç´ ï¼ˆ4å€è¶…åˆ†ï¼‰
- **æ ¼å¼**: ONNX æ ¼å¼
- **ç²¾åº¦**: FP32

## ğŸ¯ åŠŸèƒ½è¯´æ˜

### 1. å›¾åƒä¸Šä¼ 
- æ”¯æŒæ‹–æ‹½ä¸Šä¼ å’Œç‚¹å‡»é€‰æ‹©
- æ”¯æŒ JPGã€PNG ç­‰å¸¸è§æ ¼å¼
- è‡ªåŠ¨å›¾åƒè´¨é‡è¯„ä¼°

### 2. AI å¢å¼ºå¤„ç†
- ä¼˜å…ˆä½¿ç”¨ WebGPU åç«¯è¿›è¡Œç¡¬ä»¶åŠ é€Ÿ
- è‡ªåŠ¨é™çº§åˆ° WebGL æˆ– WASM åç«¯
- å®æ—¶æ˜¾ç¤ºå¤„ç†è¿›åº¦å’Œç»Ÿè®¡ä¿¡æ¯

### 3. ç»“æœå±•ç¤º
- **å¹¶æ’å¯¹æ¯”**: åŸå›¾å’Œå¢å¼ºå›¾å¹¶æ’æ˜¾ç¤º
- **æ»‘åŠ¨å¯¹æ¯”**: æ»‘åŠ¨åˆ†å‰²çº¿æŸ¥çœ‹æ•ˆæœå·®å¼‚
- **ä¸‹è½½åŠŸèƒ½**: ä¸€é”®ä¸‹è½½å¢å¼ºåçš„é«˜æ¸…å›¾åƒ
- **åˆ†äº«åŠŸèƒ½**: æ”¯æŒåŸç”Ÿåˆ†äº« API

### 4. æ€§èƒ½ç›‘æ§
- å¤„ç†æ—¶é—´ç»Ÿè®¡
- æ‰§è¡Œåç«¯ä¿¡æ¯
- å›¾åƒå°ºå¯¸å¯¹æ¯”
- å†…å­˜ä½¿ç”¨ä¼˜åŒ–

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ONNX Runtime é…ç½®

åœ¨ `src/utils/onnxInference.js` ä¸­å¯ä»¥é…ç½®ï¼š

```javascript
// è®¾ç½®æ‰§è¡Œæä¾›è€…ä¼˜å…ˆçº§
const providers = ['webgpu', 'webnn', 'webgl', 'wasm']

// é…ç½® WebGPU é€‰é¡¹
ort.env.webgpu.powerPreference = 'high-performance'

// é…ç½® WASM é€‰é¡¹
ort.env.wasm.numThreads = navigator.hardwareConcurrency || 4
ort.env.wasm.simd = true
```

### Vite é…ç½®

é¡¹ç›®å·²é…ç½®äº†å¿…è¦çš„ ONNX Runtime Web æ”¯æŒï¼š

```javascript
// vite.config.js
export default defineConfig({
  optimizeDeps: {
    exclude: ['onnxruntime-web']
  },
  server: {
    headers: {
      'Cross-Origin-Embedder-Policy': 'require-corp',
      'Cross-Origin-Opener-Policy': 'same-origin',
    }
  }
})
```

## ğŸš€ éƒ¨ç½²è¯´æ˜

### é™æ€éƒ¨ç½²

æ„å»ºåå¯ç›´æ¥éƒ¨ç½²åˆ°ä»»ä½•é™æ€æ‰˜ç®¡æœåŠ¡ï¼š

```bash
pnpm build
# å°† dist/ ç›®å½•å†…å®¹éƒ¨ç½²åˆ°æœåŠ¡å™¨
```

### CDN ä¼˜åŒ–

å»ºè®®å°†æ¨¡å‹æ–‡ä»¶æ‰˜ç®¡åˆ° CDNï¼š

1. ä¸Šä¼ æ¨¡å‹æ–‡ä»¶åˆ° CDN
2. ä¿®æ”¹ `onnxInference.js` ä¸­çš„æ¨¡å‹ URL
3. é…ç½®é€‚å½“çš„ç¼“å­˜ç­–ç•¥

## ğŸ” æµè§ˆå™¨å…¼å®¹æ€§

- **WebGPU**: Chrome 113+, Edge 113+
- **WebNN**: å®éªŒæ€§æ”¯æŒï¼Œéœ€å¯ç”¨å®éªŒæ ‡å¿—
- **WebGL**: æ‰€æœ‰ç°ä»£æµè§ˆå™¨
- **WASM**: æ‰€æœ‰ç°ä»£æµè§ˆå™¨

## ğŸ“ å¼€å‘è¯´æ˜

### æ¼”ç¤ºæ¨¡å¼

å½“æ¨¡å‹æ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œåº”ç”¨ä¼šè‡ªåŠ¨è¿›å…¥æ¼”ç¤ºæ¨¡å¼ï¼š

- ä½¿ç”¨å›¾åƒå¤„ç†ç®—æ³•æ¨¡æ‹Ÿè¶…åˆ†æ•ˆæœ
- 2x åˆ†è¾¨ç‡æå‡ï¼ˆè€ŒéçœŸæ­£çš„ 4x AI å¢å¼ºï¼‰
- ä¿æŒç•Œé¢åŠŸèƒ½å®Œæ•´å¯ç”¨

### è°ƒè¯•é€‰é¡¹

```javascript
// åœ¨æ§åˆ¶å°æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
console.log('æ¨¡å‹ä¿¡æ¯:', onnxInference.getModelInfo())
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Real-ESRGAN](https://github.com/xinntao/Real-ESRGAN) - ä¼˜ç§€çš„å›¾åƒè¶…åˆ†è¾¨ç‡æ¨¡å‹
- [ONNX Runtime](https://onnxruntime.ai/) - é«˜æ€§èƒ½æœºå™¨å­¦ä¹ æ¨ç†å¼•æ“
- [Vue.js](https://vuejs.org/) - æ¸è¿›å¼ JavaScript æ¡†æ¶
