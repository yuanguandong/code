const Encoder = require("./encoder");

const Decoder = require("./decoder");


//实现参考例子
var message = `v_sh000001="1~上证指数~000001~3630.11~3615.97~3619.64~316202242~158101121~158101121~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~~20211228155709~14.14~0.39~3631.08~3607.36~3630.11/316202242/408761369696~316202242~40876137~0.75~13.89~~3631.08~3607.36~0.66~423218.47~540028.08~0.00~-1~-1~0.83~0~3617.30~~~~~~40876136.9696~0.0000~0~ ~ZS~4.52~0.14~~~~3731.69~3312.72~-0.86~1.86~0.77~~~1.49~4.18~";
v_sz000001="51~平安银行~000001~17.17~17.22~17.22~1126639~572762~553877~17.16~2744~17.15~6025~17.14~4416~17.13~3549~17.12~3037~17.17~215~17.18~1934~17.19~2645~17.20~4251~17.21~1185~~20211228155703~-0.05~-0.29~17.33~17.09~17.17/1126639/1934461076~1126639~193446~0.58~9.34~~17.33~17.09~1.39~3331.97~3332.00~1.04~18.94~15.50~1.36~9541~17.17~8.58~11.52~~~1.34~193446.1076~0.0000~0~ ~GP-A~-10.39~-2.39~1.05~9.17~0.73~25.16~17.01~-2.33~-1.55~-4.45~19405755000~19405918750~31.80~-19.47~19405755000";
v_sh600001="1~邯郸钢铁~600001~0.00~0.00~0.00~0~0~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~~20211228090000~0.00~0.00~0.00~0.00~0.00/0/0~0~0~0.00~-0.00~D~0.00~0.00~0.00~0.00~0.00~0.00~-1~-1~0.00~0~0.00~0.00~0.00~~~~0.0000~0.0000~0~ ~GP-A~~~0.00~-0.18~-0.08~0.00~0.00~~~~2816456562~2816456562~~~2816456562";
v_hk00001="100~长和~00001~51.000~49.700~49.950~4402323.0~0~0~51.000~0~0~0~0~0~0~0~0~0~51.000~0~0~0~0~0~0~0~0~0~4402323.0~2021/12/28 15:41:55~1.300~2.62~51.400~49.950~51.000~4402323.0~223817213.700~0~6.71~~0~0~2.92~1956.3177~1956.3177~CKH HOLDINGS~4.92~63.300~48.800~1.60~-28.79~0~0~0~0~0~5.68~0.38~0.11~500~-1.16~2.62~GP~6.70~3.35~2.20~0.99~-2.02~3835917000.00~3835917000.00~5.35~2.51~50.841~-16.39";
v_sh000051="1~180等权~000051~9925.95~9876.25~9883.78~92809300~46404650~46404650~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~~20211228155708~49.70~0.50~9927.54~9846.96~9925.95/92809300/154674797660~92809300~15467480~0.41~11.30~~9927.54~9846.96~0.82~267301.56~351761.70~0.00~-1~-1~0.93~0~9878.82~~~~~~15467479.7660~0.0000~0~ ~ZS~-0.25~0.18~~~~10561.45~9127.89~-1.24~1.55~-0.52~~~-10.32~2.52~";
v_sh000053="1~180基本~000053~10846.16~10825.05~10836.32~92809300~46404650~46404650~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~~20211228155701~21.11~0.20~10862.44~10796.73~10846.16/92809300/154674797660~92809300~15467480~0.41~11.30~~10862.44~10796.73~0.61~267301.56~351761.70~0.00~-1~-1~0.93~0~10826.66~~~~~~15467479.7660~0.0000~0~ ~ZS~-2.60~-0.39~~~~12020.88~9900.68~0.53~4.61~-0.72~~~-10.32~-5.15~";
v_sh000093="1~180分层~000093~13035.44~13011.90~13024.44~92809300~46404650~46404650~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~~20211228155708~23.54~0.18~13042.05~12936.11~13035.44/92809300/154674797660~92809300~15467480~0.41~11.30~~13042.05~12936.11~0.81~267301.56~351761.70~0.00~-1~-1~0.93~0~12979.96~~~~~~15467479.7660~0.0000~0~ ~ZS~7.20~0.44~~~~13464.78~11477.92~-0.06~3.21~-0.81~~~-10.32~7.25~";
v_sh000031="1~180R价值~000031~2929.65~2920.67~2924.57~82626195~41313098~41313098~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~~20211228155613~8.98~0.31~2931.98~2914.40~2929.65/82626195/91533160607~82626195~9153316~0.38~8.71~~2931.98~2914.40~0.60~178953.40~250460.35~0.00~-1~-1~0.91~0~2923.21~~~~~~9153316.0607~0.0000~0~ ~ZS~-3.49~-0.50~~~~3304.76~2716.19~-0.07~3.89~-0.78~~~-11.33~-5.37~";
v_sh000129="1~180波动~000129~13708.89~13681.20~13692.01~48655084~24327542~24327542~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~0.00~0~~20211228155700~27.69~0.20~13713.82~13631.92~13708.89/48655084/65352143671~48655084~6535214~0.25~9.20~~13713.82~13631.92~0.60~186597.24~247863.79~0.00~-1~-1~1.02~0~13670.17~~~~~~6535214.3671~0.0000~0~ ~ZS~3.76~0.20~~~~14568.45~12211.72~0.79~4.41~-1.65~~~-16.42~-0.19~";
`;

//UTF-8转GBK
var gbkArray = Encoder.hexstrToArray(Encoder.stringToGbkHexstr(message));
console.log("gbkArray>>" + gbkArray);
//GBK转UTF-8
var utfStr = Decoder.GBKHexstrToString(Decoder.binaryarrayToHexstr(gbkArray));
console.log("utfStr>>" + utfStr);